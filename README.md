# CPA λ°μ΄ν„°μ…‹ μμ • λ„κµ¬

κ³µμΈνκ³„μ‚¬(CPA) μ‹ν— κΈ°μ¶λ¬Έν•­ JSONL λ°μ΄ν„°λ¥Ό **μ—΄λΒ·νΈμ§‘Β·κ²€μ¦**ν•λ” Streamlit κΈ°λ° μ›Ή λ„κµ¬μ…λ‹λ‹¤.

---

## μ£Όμ” κΈ°λ¥

| κΈ°λ¥ | μ„¤λ… |
|------|------|
| **λ¬Έν•­ νΈμ§‘** | μ—°λ„Β·κ³Όλ©λ³„λ΅ λ¬Έν•­μ„ μ„ νƒν•΄ JSONμ„ μ§μ ‘ μμ •Β·μ €μ¥ |
| **μ‹ κ· λ¬Έν•­ μ¶”κ°€** | Gemini λ“±μΌλ΅ μ¶”μ¶ν• JSONLμ„ λ¶™μ—¬λ„£μ–΄ μΌκ΄„ μ¶”κ°€ |
| **μ •λ‹µν‘ vs λ°μ΄ν„° μΌμΉ ν™•μΈ** | μ •λ‹µν‘λ¥Ό λ¶™μ—¬λ„£κ±°λ‚ ν‘μ—μ„ μ§μ ‘ μ…λ ¥ν•΄ μ‹¤μ  μ •λ‹µκ³Ό ν•λμ— λΉ„κµΒ·μμ • |
| **PDF μ›λ¬Έ λ·°μ–΄** | λ¬Έμ  PDF, μ •λ‹µ PDFλ¥Ό μ•± μ•μ—μ„ λ°”λ΅ ν™•μΈ |
| **JSONL λ‹¤μ΄λ΅λ“** | μ„ νƒν• μ—°λ„Β·κ³Όλ©λ§ JSONL νμΌλ΅ λ‚΄λ ¤λ°›κΈ° |
| **μ¤λ¥ λ¦¬ν¬νΈ(μ„ νƒ)** | λ„λ½ λ¬Έν•­ λ©λ΅μ„ λ©”λ¨ν•΄ ν•„μ” μ‹ ν™•μΈ |
| **μλ™ λ°±μ—…** | μ €μ¥ μ‹ `backups/` ν΄λ”μ— νƒ€μ„μ¤νƒ¬ν”„ λ°±μ—… μλ™ μƒμ„± |

---

## μ•± λ―Έλ¦¬λ³΄κΈ°

μ•„λλ” μ‹¤μ  μ•± ν™”λ©΄ μμ‹μ…λ‹λ‹¤. μ—°λ„Β·κ³Όλ©λ³„ λ¬Έν•­ νΈμ§‘, μ •λ‹µ λΉ„κµ, PDF λ·°μ–΄ λ“±μ„ ν• ν™”λ©΄μ—μ„ μ§κ΄€μ μΌλ΅ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.

![CPA λ°μ΄ν„°μ…‹ μμ • λ„κµ¬ - μ•± ν™”λ©΄ μμ‹](μ΄λ―Έμ§€μμ‹.png)

---

## ν΄λ” κµ¬μ΅°

```
CPA_datasets/
β”β”€β”€ app.py                              # Streamlit μ•± (μ§„μ…μ )
β”β”€β”€ cpa_2016_2025_combined.jsonl        # λ©”μΈ λ°μ΄ν„° (2016~2025 κΈ°μ¶)
β”β”€β”€ cpa_2012_2015.jsonl                 # λ³΄μ΅° λ°μ΄ν„° (2012~2015 κΈ°μ¶)
β”β”€β”€ data/
β”‚   β”β”€β”€ raw_pdfs/                       # μ—°λ„λ³„ λ¬Έμ Β·μ •λ‹µ PDF (μ•„λ κµ¬μ΅° μ°Έκ³ )
β”‚   β”β”€β”€ error_report.md                 # λ„λ½Β·μ¤λ¥ λ¬Έν•­ λ¦¬ν¬νΈ
β”‚   β”β”€β”€ manual_check_status.json        # λ„λ½ λ¬Έν•­ μλ™ ν™•μΈ μƒνƒ
β”‚   β””β”€β”€ uploads/                        # PDF μ§μ ‘ μ—…λ΅λ“ μ„μ‹ ν΄λ”
β”β”€β”€ backups/                            # μλ™ λ°±μ—… (μ €μ¥ μ‹ μƒμ„±)
β””β”€β”€ README.md
```

- **`DATA_FILE`** (κΈ°λ³Έκ°’: `cpa_2016_2025_combined.jsonl`)  
  μ•±μ΄ μ½κ³  μ“°λ” λ©”μΈ JSONL νμΌμ…λ‹λ‹¤. `app.py` μƒλ‹¨μ—μ„ λ³€κ²½ν•  μ μμµλ‹λ‹¤.

---

## κ²€μ μ›ν¬ν”λ΅

- μ—°λ„λ³„ λ‹΄λ‹Ήμκ°€ **λ¨λ“  λ¬Έν•­μ„ μ›λ¬Έ PDFμ™€ 1:1 λ€μ΅°**ν•μ—¬ μ „μ ν™•μΈν•©λ‹λ‹¤.
- 1μ°¨ μ™„λ£ ν›„ **μ„λ΅ κµμ°¨κ²€μ¦**ν•μ—¬ λ‹¤μ‹ ν™•μΈν•©λ‹λ‹¤.
- `error_report.md`μ— μμ΅΄ν•μ§€ μ•μΌλ©°, **λ¬Έν•­ λ‚΄λ¶€ μ¤νƒμ/λ„λ½κΉμ§€ μ „λ¶€ ν™•μΈ**ν•©λ‹λ‹¤.
- μμ • μ‚¬ν•­μ€ JSONLμ— μ§μ ‘ λ°μν•©λ‹λ‹¤.

## μμ£Ό λ°μƒν•λ” OCR μ¤λ¥

- λ¶€νΈ λ„λ½/λ°μ „ (μ: `-5,000` β†’ `5,000`)
- μ„ νƒμ§€ μ΅°ν•© ν‘κΈ° μ¤λ¥ (μ: `γ„±`, `γ„±γ„΄`, `γ„΄γ„·` λ“±)
- ν‘/λ„ν‘ κ°’ λ„λ½ λλ” μ¤„λ§μ¶¤ κΉ¨μ§
- λ‹¨μ„/κΈ°νΈ λ„λ½ (μ: `β‚©`, `%`, κ΄„νΈ)

---

## data/ λ””λ ‰ν„°λ¦¬ μƒμ„Έ

### data/error_report.md β€” μ¤λ¥ λ¦¬ν¬νΈ

μ—°λ„Β·κ³Όλ©λ³„λ΅ λ„λ½λκ±°λ‚ λ¬Έμ κ°€ μλ” λ¬Έν•­μ„ κΈ°λ΅ν• νμΌμ…λ‹λ‹¤.  
μ•±μ **γ€π“‹ μ¤λ¥ λ¦¬ν¬νΈ μ „μ²΄λ³΄κΈ°γ€** νƒ­κ³Ό μ‚¬μ΄λ“λ°” **γ€β οΈ λ„λ½λ λ¬Έν•­ μ •λ³΄γ€** μ—μ„ μ½μ–΄ ν‘μ‹ν•©λ‹λ‹¤.

ν„μ¬λ” μ „μ κ²€μ λ°©μ‹μΌλ΅ μ΄μν•λ―€λ΅ **`error_report.md` μ‘μ„±μ€ μ„ νƒ μ‚¬ν•­**μ…λ‹λ‹¤.

μ‘μ„± ν•μ‹:

```markdown
[ β… 2024λ…„ ]
π“ κ²½μ μ›λ΅ 
- 6λ² λ¬Έν•­μ΄ μ•„μ μ¶”μ¶λμ§€ μ•μ
- 8~10λ² λ¬Έν•­μ΄ μ•„μ μ¶”μ¶λμ§€ μ•μ

π“ κ²½μν•™
- 31λ² λ¬Έν•­ 'γ -> μ£Ό'λ΅ ν‘κΈ°λ¨
```

| ν•­λ© | μ„¤λ… |
|------|------|
| `[ β… {μ—°λ„}λ…„ ]` | μ—°λ„ ν—¤λ” |
| `π“ {κ³Όλ©}` | κ³Όλ© ν—¤λ” |
| `- {μ„¤λ…}` | ν•΄λ‹Ή λ¬Έν•­μ λ¬Έμ  μƒν™© |

### data/manual_check_status.json β€” μλ™ ν™•μΈ μƒνƒ

`error_report.md`μ— κΈ°μ¬λ λ„λ½ λ¬Έν•­μ„ **μ•±μ—μ„ μ™„λ£ μ²΄ν¬**ν•λ©΄ μ΄ νμΌμ— κΈ°λ΅λ©λ‹λ‹¤.

```json
{
  "checked_questions": {
    "2016_κ²½μ μ›λ΅ _21": true,
    "2024_κ²½μ μ›λ΅ _6": true
  }
}
```

- ν‚¤ ν•μ‹: `{μ—°λ„}_{κ³Όλ©}_{λ¬Έν•­λ²νΈ}`
- κ°’: `true` = ν™•μΈ μ™„λ£
- μ•± μ‚¬μ΄λ“λ°”μ—μ„ μ²΄ν¬/μ²΄ν¬ ν•΄μ ν•λ©΄ μλ™ μ €μ¥λ©λ‹λ‹¤.

---

## data/raw_pdfs/ β€” PDF νμΌ κµ¬μ΅°

μ•±μ΄ **λ¬Έμ  PDF**, **μ •λ‹µ PDF**λ¥Ό μλ™μΌλ΅ μ°Ύμ„ μ μλ„λ΅, μ•„λ ν΄λ” κ·μΉ™μ— λ§μ¶° λ„£μ–΄μ•Ό ν•©λ‹λ‹¤.

### ν΄λ” μ΄λ¦„ κ·μΉ™

```
data/raw_pdfs/
β”β”€β”€ 00λ…„ κ³µμΈνκ³„μ‚¬ μ 1μ°¨ λ¬Έμ  λ° λ‹µμ•/
β”β”€β”€ 01λ…„ κ³µμΈνκ³„μ‚¬ μ 1μ°¨ λ¬Έμ  λ° λ‹µμ•/
β”‚   ...
β”β”€β”€ 16λ…„ κ³µμΈνκ³„μ‚¬ μ 1μ°¨ λ¬Έμ  λ° λ‹µμ•/
β”β”€β”€ 24λ…„ κ³µμΈνκ³„μ‚¬ μ 1μ°¨ λ¬Έμ  λ° λ‹µμ•/
β””β”€β”€ 25λ…„ κ³µμΈνκ³„μ‚¬ 1μ°¨ λ¬Έμ  λ° κ°€λ‹µμ•/
```

- ν΄λ”λ…μ€ **2μλ¦¬ μ—°λ„**λ΅ μ‹μ‘ν•λ©΄ λ©λ‹λ‹¤ (μ: `16λ…„`, `24λ…„`).
- λ’¤μ— μ–΄λ–¤ ν…μ¤νΈκ°€ μ™€λ„ μƒκ΄€μ—†μµλ‹λ‹¤ (`μ 1μ°¨ λ¬Έμ  λ° λ‹µμ•` λ“±).
- μ•±μ€ `{2μλ¦¬μ—°λ„}λ…„*` ν¨ν„΄μΌλ΅ ν΄λ”λ¥Ό κ²€μƒ‰ν•©λ‹λ‹¤.

### λ¬Έμ  PDF νμΌ μ΄λ¦„ κ·μΉ™

ν΄λ” μ•μ— **κ³Όλ©λ…**μ΄ ν¬ν•¨λ PDFλ¥Ό λ„£μΌλ©΄ μ•±μ΄ μλ™μΌλ΅ μ°Ύμµλ‹λ‹¤:

```
16λ…„ κ³µμΈνκ³„μ‚¬ μ 1μ°¨ λ¬Έμ  λ° λ‹µμ•/
β”β”€β”€ 2016λ…„ 01-1.κ²½μν•™ 1ν•.pdf          β† κ³Όλ©λ… "κ²½μν•™" ν¬ν•¨
β”β”€β”€ 2016λ…„ 01-2.κ²½μ μ›λ΅  1ν•.pdf        β† "κ²½μ μ›λ΅ " ν¬ν•¨
β”β”€β”€ 2016λ…„ 02-1.μƒλ²• 1ν•.pdf            β† "μƒλ²•" ν¬ν•¨
β”β”€β”€ 2016λ…„ 02-2.μ„Έλ²• 1ν•.pdf            β† "μ„Έλ²•" ν¬ν•¨
β”β”€β”€ 2016λ…„ 03-1.νκ³„ν•™ 1ν•.pdf          β† "νκ³„ν•™" ν¬ν•¨
β””β”€β”€ 2016λ…„ 00.μ „μ²΄μ •λ‹µ(ν™•μ •μ •λ‹µ).pdf     β† μ •λ‹µ PDF
```

- νμΌλ…μ— μ„ νƒν• **κ³Όλ©λ…**(κ²½μν•™, κ²½μ μ›λ΅ , μƒλ²•, μ„Έλ²•, νκ³„ν•™ λ“±)μ΄ λ“¤μ–΄ μμΌλ©΄ λ§¤μΉ­λ©λ‹λ‹¤.
- νμΌλ…μ— "μ •λ‹µ", "λ‹µμ•" λ“±μ΄ ν¬ν•¨λ νμΌμ€ **λ¬Έμ  PDF κ²€μƒ‰μ—μ„ μ μ™Έ**λ©λ‹λ‹¤.

### μ •λ‹µ PDF νμΌ μ΄λ¦„ κ·μΉ™

μ •λ‹µ PDFλ” **μ—°λ„ ν΄λ” μ „μ²΄**μ—μ„ ν•λ‚λ§ κ²€μƒ‰λ©λ‹λ‹¤ (κ³Όλ© λ¬΄κ΄€):

```
ν‚¤μ›λ“ μ°μ„ μμ„: ν™•μ •μ •λ‹µ > μ „μ²΄μ •λ‹µ > μµμΆ…μ •λ‹µ > μ •λ‹µ > λ‹µμ• > κ°€λ‹µμ•
```

μμ‹:
- `2016λ…„ 00.μ „μ²΄μ •λ‹µ(ν™•μ •μ •λ‹µ).pdf` β†’ "ν™•μ •μ •λ‹µ" λ§¤μΉ­
- `2022λ…„ μ •λ‹µ.pdf` β†’ "μ •λ‹µ" λ§¤μΉ­
- `2025λ…„_κ°€λ‹µμ•.pdf` β†’ "κ°€λ‹µμ•" λ§¤μΉ­

### μ •λ¦¬: μƒ μ—°λ„ μ¶”κ°€ μ‹

1. `data/raw_pdfs/` μ•„λμ— **`{2μλ¦¬μ—°λ„}λ…„ ...`** ν΄λ” μƒμ„±
2. κ³Όλ©λ³„ λ¬Έμ  PDF λ„£κΈ° (νμΌλ…μ— κ³Όλ©λ… ν¬ν•¨)
3. μ •λ‹µ PDF λ„£κΈ° (νμΌλ…μ— "μ •λ‹µ" λλ” "λ‹µμ•" ν¬ν•¨)
4. μ•±μ—μ„ ν•΄λ‹Ή μ—°λ„Β·κ³Όλ© μ„ νƒν•λ©΄ μλ™ μΈμ‹λ©λ‹λ‹¤

---

## μ„¤μΉ λ° μ‹¤ν–‰

### 1. μμ΅΄μ„± μ„¤μΉ

```bash
pip install streamlit pandas pdfplumber
```

### 2. μ‹¤ν–‰

```bash
cd CPA_datasets
streamlit run app.py
```

λΈλΌμ°μ €μ—μ„ `http://localhost:8501` λ΅ μ ‘μ†ν•©λ‹λ‹¤.

### 3. λ°μ΄ν„° νμΌ λ³€κ²½ (μ„ νƒ)

λ‹¤λ¥Έ JSONL νμΌμ„ μ‚¬μ©ν•λ ¤λ©΄ `app.py` μƒλ‹¨μ `DATA_FILE`μ„ μμ •ν•μ„Έμ”:

```python
DATA_FILE = "cpa_2012_2015.jsonl"   # 2012~2015 λ°μ΄ν„°λ΅ λ³€κ²½
```

---

## μ‚¬μ©λ²•

### μ—°λ„Β·κ³Όλ© μ„ νƒ

1. μ™Όμ½ μ‚¬μ΄λ“λ°”μ—μ„ **μ—°λ„**μ™€ **κ³Όλ©**μ„ μ„ νƒν•©λ‹λ‹¤.
2. ν•΄λ‹Ή μ—°λ„Β·κ³Όλ©μ λ¬Έν•­ μκ°€ ν‘μ‹λ©λ‹λ‹¤.
3. μ‚¬μ΄λ“λ°” ν•λ‹¨μ **γ€π“„ JSONLγ€** λ²„νΌμΌλ΅ ν•΄λ‹Ή λ¶€λ¶„λ§ λ‹¤μ΄λ΅λ“ν•  μ μμµλ‹λ‹¤.

### λ¬Έν•­ νΈμ§‘

1. **γ€π“ κΈ°μ΅΄ λ¬Έν•­ μμ •γ€** νƒ­μ—μ„ λ¬Έν•­ λ²νΈλ¥Ό μ„ νƒν•©λ‹λ‹¤.
2. JSON νΈμ§‘κΈ°μ—μ„ λ‚΄μ©μ„ μμ •ν• λ’¤ **γ€π’Ύ μ €μ¥γ€** μ„ λ„λ¦…λ‹λ‹¤.
3. μ €μ¥ μ‹ μλ™μΌλ΅ λ°±μ—…μ΄ μƒμ„±λ©λ‹λ‹¤.

### μ‹ κ· λ¬Έν•­ μ¶”κ°€

1. **γ€β• μ‹ κ· λ¬Έν•­ μ¶”κ°€γ€** νƒ­μ—μ„ JSONL ν…μ¤νΈλ¥Ό λ¶™μ—¬λ„£μµλ‹λ‹¤.
2. νμ‹± κ²°κ³Όλ¥Ό ν™•μΈν•κ³  **μΌκ΄„ μ¶”κ°€** λλ” **λ®μ–΄μ“°κΈ°** λ²„νΌμ„ λ„λ¦…λ‹λ‹¤.

### μ •λ‹µν‘ ν™•μΈΒ·μμ •

1. **γ€π“‹ μ •λ‹µν‘ vs λ°μ΄ν„° μΌμΉγ€** νƒ­μΌλ΅ μ΄λ™ν•©λ‹λ‹¤.
2. μ •λ‹µν‘λ¥Ό λ¶™μ—¬λ„£κ±°λ‚(μ: `1 β‘ `, `2 β‘΅`) λΉ„κµ ν‘μ—μ„ μ§μ ‘ μ…λ ¥ν•©λ‹λ‹¤.
3. **γ€π’Ύ νΈμ§‘ν• μ •λ‹µν‘λ΅ λ°μ ν›„ μ €μ¥γ€** μ„ λ„λ¥΄λ©΄ λ°μ΄ν„°μ— λ°μλ©λ‹λ‹¤.

### PDF μ›λ¬Έ ν™•μΈ

- μ™Όμ½ **λ¬Έμ ** / **μ •λ‹µ** νƒ­μ—μ„ PDFλ¥Ό λ°”λ΅ λ³Ό μ μμµλ‹λ‹¤.
- PDFκ°€ μλ™ κ²€μƒ‰λμ§€ μ•μΌλ©΄ μ‚¬μ΄λ“λ°” **β™οΈ PDF μ„¤μ •**μ—μ„ μ§μ ‘ μ—…λ΅λ“ν•©λ‹λ‹¤.

---

## λ°μ΄ν„° ν•μ‹ (JSONL)

ν• μ¤„μ— ν•λ‚μ JSON κ°μ²΄:

```json
{
  "conversation": [
    {"role": "user", "content": "λ‹¤μμ€ 2024λ…„ κ³µμΈνκ³„μ‚¬ μ‹ν— κ²½μ μ›λ΅  λ¬Έμ μ…λ‹λ‹¤.\n\n1. ..."},
    {"role": "assistant", "content": "μ •λ‹µ: β‘ "}
  ],
  "metadata": {
    "year": "2024",
    "subject": "κ²½μ μ›λ΅ ",
    "question_number": 1,
    "source": "cpa_exam"
  },
  "unique_id": "cpa_2024_κ²½μ μ›λ΅ _1"
}
```

| ν•„λ“ | μ„¤λ… |
|------|------|
| `conversation` | `[user(λ¬Έμ ), assistant(μ •λ‹µ)]` μµμ† 2κ° λ©”μ‹μ§€ |
| `metadata.year` | μ‹ν— μ—°λ„ (λ¬Έμμ—΄) |
| `metadata.subject` | κ³Όλ©λ… (κ²½μν•™, κ²½μ μ›λ΅ , νκ³„ν•™, μ„Έλ²•, μƒλ²• λ“±) |
| `metadata.question_number` | λ¬Έν•­ λ²νΈ (μ •μ) |
| `unique_id` | `cpa_{μ—°λ„}_{κ³Όλ©}_{λ²νΈ}` ν•μ‹μ κ³ μ  ID |
